<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition template="/template.xhtml">
        <ui:define name="landing_name">
            Список всех рассчитанных стипендий
        </ui:define>
        <ui:define name="content">
            <f:view>
                <h:body>            
                    <div class="table"><h2>Коэффициенты перерасчета суммы договоров</h2>
                        <h:form id="form">

                            <p:dataTable value="#{infoBean.allInfos}" var="info" rowKey="#{info.id}"  editable="true" editMode="cell">
                                 <p:ajax event="cellEdit" listener="#{infoBean.onCellEdit}"/>
                                <p:column headerText="Код Клиента">
                                    <h:outputText value="#{info.idClient}" />
                                </p:column>
                                <p:column headerText="Код Услуги">
                                    <h:outputText value="#{info.idUslugi}" />
                                </p:column>
                                <p:column headerText="Период">
                                    <h:outputText value="#{info.straxPeriod}" />
                                </p:column>
                                  
                               <!--             <h:outputText value="#{info.idInfo.kf1}" /> -->
                                                                  <p:column headerText="Коэффициент">
                                     <p:cellEditor>
                                         <f:facet name="output"><h:outputText value="#{info.kf1}"/></f:facet>
                                        <f:facet name="input"><h:inputText value="#{info.kf1}" /></f:facet>
                                            </p:cellEditor>
                                </p:column>
                                <p:column headerText="">
<!--                                    <h:commandButton action="#{infoBean.makeChoice(info.idClient, info.idUslugi)}" value="Подробнее"/>-->
                                    <a href='./info-details.xhtml?period=#{info.straxPeriod}&amp;id_client=#{info.idClient}&amp;id_uslugi=#{info.idUslugi}' class='more-link'>Подробнее</a>                      
                                                      </p:column>
                            </p:dataTable><br><br> </br></br> 

                        </h:form>
                    </div>
                </h:body>
            </f:view>


            <a href='./info-add.xhtml' class="add">Добавить новые коэффициенты</a> 
            <!--  <h:commandLink action='./info-add.xhtml' value="Добавить коэффициент">
                         </h:commandLink>  -->



        </ui:define>
    </ui:composition>
</html>



